# Use Ctrl-a instead of Ctrl-b
set -g prefix C-a
unbind C-b

# Send Ctrl-a through to emacs, bash, etc when needed
# Pres C-a twice to send it through
bind C-a send-prefix

bind c new-window -c "#{pane_current_path}"

# set scroll history to 5,000 lines
set -g history-limit 5000

set -g utf8 on set-window-option -g utf8 on

# Maximize and restore a pane
# Make a pane go full screen
# In tmux 1.8 resize-pane accepts -Z, and it's mapped to C-b z
unbind Up
bind Up new-window -d -n tmp \; swap-pane -s tmp.1 \; select-window -t tmp
unbind Down
bind Down last-window \; swap-pane -s tmp.1 \; kill-window -t tmp

# Record output to a log
bind P pipe-pane -o "cat >>~/#W.log" \; display "Toggled logging to ~/#W.log"

# Use zsh
#set -g default-command /bin/zsh
#set -g default-shell /bin/zsh

# Bind key to turn on/off sending a command to more than one pane
bind C-s set-window-option synchronize-panes

# Remove delay when sending commands
set -s escape-time 0

# Start window indexes at 1 instead of 0
set -g base-index 1

# Start pane indexes at 1 instead of 0
set-window-option -g pane-base-index 1

# Use more intuitive keys for splitting panes
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Disallow mouse commands (pre-tmux 2.1)
#set-window-option -g mode-mouse off
#set -g mouse-select-pane off
#set -g mouse-resize-pane off
#set -g mouse-select-window off

# Disallow mouse commands (tmux >= 2.1)
# set -g mouse off

set -g mouse on

set -g default-terminal "screen-256color"

# Status bar colors
set -g status-style fg=white,bg=black

# Status bar window list colors
set-window-option -g window-status-fg cyan
set-window-option -g window-status-bg default
set-window-option -g window-status-attr dim
set-window-option -g window-status-current-fg white
set-window-option -g window-status-current-bg red
set-window-option -g window-status-current-attr bright

# Pane divider colors
set -g pane-border-fg green
set -g pane-border-bg black
set -g pane-active-border-fg white
set -g pane-active-border-bg yellow

# Command line colors
set -g message-fg white
set -g message-bg black
set -g message-attr bright

# Status bar
set -g status-left "#[fg=green]Session: #S #[fg=yellow]#I #[fg=cyan]#P"
set -g status-left-length 40
set -g status-right "#H"
set -g status-utf8 on
set -g status-justify centre

# Update status bar every 60 seconds (default is 15)
set -g status-interval 60

# Identify activity in other windows
set-window-option -g monitor-activity on
set -g visual-activity on

# Reload tmux config
bind r source-file ~/.tmux.conf

# Use Alt-arrow keys without prefix key to switch panes
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Shift arrow to switch windows
bind -n S-Left  previous-window
bind -n S-Right next-window

# Vi bindings in copy mode
set-window-option -g mode-keys vi
#bind-key -t vi-copy 'v' begin-selection
#bind-key -t vi-copy 'y' copy-selection


# Move between panes with Prefix h, j, k, l
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5